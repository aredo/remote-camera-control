<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Index</title>

  <style>
    body {
      background: #000;
      color: #FFF;
    }

    iframe {
      visibility: hidden;
      position: absolute;
      top: 0;
      height: 0;
    }

    img {
      max-width: 100%;
    }

    a {
      color: #FAA;
      font-size: 200%;
      border: 1px solid #000;
      background: #333;
      height: 30px;
      padding: 20px;
      margin: 20px;
      display: inline-block;
      text-decoration: none;
    }

    progress {
      width: 100%;
    }

    #amount {
      color: #FAA;
      font-size: 200%;
      border: 1px solid #000;
      background: #333;
      height: 30px;
      padding: 20px;
      margin: 20px;
      display: inline-block;
      width: 70px;
    }
  </style>
</head>
<body>
  <iframe name="hidden"></iframe>

  <h2>Canon 20D</h2>

  <div>
  {%if actions.length%}
  <select>
    {%each actions%}
      <option>{{.}}</option>
    {%endeach%}
  </select>
  {%endif%}
  </div>

  <a href="/take/preview" target="hidden">Take a Preview</a>

  <input type="number" value="0" id="amount">
  <a id="take" href="/take/amount" target="hidden">Take Series</a>

  <img src="/preview.jpg">

  {%if timelapse > 0%}
    <h3>Timelapse Progress</h3>
    <progress value="{{timelapse}}" max="1">
  {%endif%}

  <script src="/jquery.js"></script>
  <script>
    $("#take").click(function(ev) {
      ev.preventDefault();

      var amount = $('#amount').val();

      $.get('/take/amount/' + amount);
    });
  </script>
</body>
</html>
